{
  "name": "Sample Map",
  "tileSetId": 0,
  "rooms": [
    {
      "tiles": [
        [
          31, 31, 31, 31, 33, 31, 33, 31, 31, 31,
          4, 4, 4, 4, 26, 4, 26, 4, 4, 4,
          1, 1, 1, 1, 26, 12, 26, 23, 23,23,
          1, 1, 1, 1, 26, 1, 30, 23, 23, 23,
          24, 29, 1, 27, 34, 1, 4, 23, 23, 23,
          4, 5, 1, 3, 5, 1, 1, 23, 23, 23,
          1, 1, 1, 1, 1, 1, 1, 23, 23, 23,
          6, 7, 25, 1, 1, 1, 1, 23, 23, 23,
          14, 15, 26, 8, 9, 10, 1, 23, 23, 23,
          2, 2, 35, 2, 2, 2, 2, 2, 2, 2
        ],
        [
          0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
          1, 16, 0, 2, 0, 7, 0, 0, 0, 11,
          9, 0, 8, 10, 0, 15, 0, 0, 0, 19,
          0, 0, 0, 0, 0, 0, 0, 0, 4, 0,
          0, 0, 0, 0, 0, 0, 0, 0, 12, 0,
          0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
          0, 0, 0, 0, 0, 0, 0, 21, 22, 23,
          0, 0, 0, 0, 0, 0, 0, 29, 30, 31,
          0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
          0, 0, 0, 0, 24, 25, 26, 0, 0, 0
        ]
      ],
      "events": [
        {
          "id": 0,
          "x":  8,
          "y":  5,
          "pages": [
            {
              "conditions": [],
              "image":      "characters0.png",
              "imageIndex": 1,
              "attitude":   1,
              "dir":        3,
              "dirFix":     false,
              "walking":    false,
              "stepping":   true,
              "through":    false,
              "priority":   1,
              "trigger":    "tapped",
              "commands": [
                {
                  "name": "show_message",
                  "args":    {
                    "content": "イベントのテストです。"
                  }
                },
                {
                  "name": "show_message",
                  "args":    {
                    "content": "念願のアイスソードを\n手に入れたぞ"
                  }
                },
                {
                  "name": "show_choices",
                  "args":    {
                    "choices": ["そう、関係ないね", "殺してでもうばいとる", "ゆずってくれ、たのむ!"]
                  },
                  "branches": [
                    [],
                    [
                      {
                        "name": "show_message",
                        "args": {
                          "content": "な、何をする貴様らー!"
                        }
                      },
                      {
                        "name": "set_switch",
                        "args": {
                          "number": 0,
                          "value":  true
                        }
                      },
                      {
                        "name": "show_message",
                        "args": {
                          "content":  "殺害した",
                          "position": "center"
                        }
                      }
                    ],
                    [
                      {
                        "name": "show_message",
                        "args": {
                          "content": "だめだ!! いくら積まれてもゆずれん"
                        }
                      },
                      {
                        "name": "show_message",
                        "args": {
                          "content":  "ホークは、今までの経緯を説明した",
                          "position": "center"
                        }
                      },
                      {
                        "name": "show_message",
                        "args": {
                          "content": "そういわれてもなー\nこの剣を手に入れるのには\n相当苦労もしたし…"
                        }
                      },
                      {
                        "name": "show_message",
                        "args": {
                          "content": "では、俺も一緒に行くというのはどうだ?\nそのフレイムタイラントに\n会って考えよう"
                        }
                      }
                    ]
                  ]
                },
                {
                  "name": "show_message",
                  "args": {
                    "content": "選択肢合流後のイベント"
                  }
                }
              ]
            },
            {
              "conditions": ["$switches[0]"],
              "image":      "",
              "imageIndex": 0,
              "attitude":   0,
              "dir":        0,
              "dirFix":     false,
              "walking":    false,
              "stepping":   false,
              "through":    false,
              "priority":   0,
              "trigger":    "tapped",
              "commands":   []
            }
          ]
        },
        {
          "id": 1,
          "x":  7,
          "y":  3,
          "pages": [
            {
              "conditions": [],
              "image":      "characters0.png",
              "imageIndex": 1,
              "attitude":   1,
              "dir":        3,
              "dirFix":     true,
              "walking":    false,
              "stepping":   true,
              "through":    false,
              "priority":   1,
              "trigger":    "tapped",
              "commands": [
                {
                  "name": "show_message",
                  "args":    {
                    "content": "向き固定のテスト。"
                  }
                },
                {
                  "name": "show_message",
                  "args":    {
                    "content": "場所移動のテスト。"
                  }
                },
                {
                  "name": "move",
                  "args":    {
                    "x": 1,
                    "y": 2
                  }
                },
                {
                  "name": "show_message",
                  "args":    {
                    "content": "場所移動後のテスト。"
                  }
                }
              ]
            }
          ]
        },
        {
          "id": 2,
          "x":  0,
          "y":  0,
          "pages": [
            {
              "conditions": [],
              "image":      "",
              "imageIndex": 0,
              "attitude":   0,
              "dir":        0,
              "dirFix":     false,
              "walking":    false,
              "stepping":   false,
              "through":    false,
              "priority":   0,
              "trigger":    "auto",
              "commands": [
                {
                  "name": "show_message",
                  "args":    {
                    "content":  "自動イベントのテストでござい",
                    "position": "center"
                  }
                },
                {
                   "name": "set_switch",
                   "args": {
                     "number": 1,
                     "value":  true
                   }
                }
              ]
            },
            {
              "conditions": ["$switches[1]"],
              "image":      "",
              "imageIndex": 0,
              "attitude":   0,
              "dir":        0,
              "dirFix":     false,
              "walking":    false,
              "stepping":   false,
              "through":    false,
              "priority":   0,
              "trigger":    "tapped",
              "commands":   []
            }
          ]
        }
      ]
    }
  ]
}
